2025-05-15 14:09:48,838 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-15 14:09:48,845 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-15 14:09:48,846 - INFO - __main__ - Бот успешно запущен.
2025-05-15 14:10:48,728 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:11:48,665 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:12:48,665 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:13:48,673 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:14:48,674 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:15:48,672 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:16:48,660 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:17:48,665 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:18:48,665 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:19:48,663 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:20:48,663 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:21:48,663 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:22:48,662 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:23:48,661 - ERROR - services.scheduler - Error saving scheduler run time: cannot import name 'save_last_run_time' from 'bot' (/home/olegb/project/english_learning_bot/bot.py)
2025-05-15 14:24:32,257 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-15 14:24:32,381 - INFO - __main__ - Восстановлено 1 уведомлений
2025-05-15 14:24:32,382 - INFO - __main__ - Бот успешно запущен.
2025-05-27 17:16:01,041 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 17:16:01,053 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 17:16:01,054 - INFO - __main__ - Бот успешно запущен.
2025-05-27 17:18:44,472 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 17:18:44,473 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 17:18:44,477 - INFO - __main__ - Бот успешно запущен.
2025-05-27 17:18:50,452 - WARNING - utils.helpers - Сет 'C2 Basic 1' не существует для уровня C2 или не соответствует уровню. Путь: levels/C2/C2 Basic 1.txt
2025-05-27 17:18:50,452 - ERROR - utils.helpers - Базовый сет 'C2 Basic 1' не существует для уровня C2. Путь: levels/C2/C2 Basic 1.txt
2025-05-27 17:19:47,354 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 17:19:47,354 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 17:19:47,354 - INFO - __main__ - Бот успешно запущен.
2025-05-27 17:21:25,483 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 17:21:25,491 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 17:21:25,492 - INFO - __main__ - Бот успешно запущен.
2025-05-27 17:34:43,776 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 17:34:43,777 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 17:34:43,786 - INFO - __main__ - Бот успешно запущен.
2025-05-27 17:59:00,551 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 17:59:00,552 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 17:59:00,553 - INFO - __main__ - Бот успешно запущен.
2025-05-27 18:01:24,690 - ERROR - asyncio - Task exception was never retrieved
future: <Task finished name='Task-181' coro=<Dispatcher._process_polling_updates() done, defined at /home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=BadRequest('Message_too_long')>
Traceback (most recent call last):
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/english_learning_bot/handlers/words.py", line 140, in send_words_day_schedule
    await _send_daily_words(cb, chat_id, user[1], words, reps)
  File "/home/olegb/project/english_learning_bot/handlers/words.py", line 125, in _send_daily_words
    await cb.message.edit_text(
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/types/message.py", line 2919, in edit_text
    return await self.bot.edit_message_text(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/bot.py", line 3122, in edit_message_text
    result = await self.request(api.Methods.EDIT_MESSAGE_TEXT, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/utils/exceptions.py", line 141, in detect
    raise cls(description)
aiogram.utils.exceptions.BadRequest: Message_too_long
2025-05-27 18:01:35,046 - ERROR - asyncio - Task exception was never retrieved
future: <Task finished name='Task-194' coro=<Dispatcher._process_polling_updates() done, defined at /home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=BadRequest('Message_too_long')>
Traceback (most recent call last):
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/english_learning_bot/handlers/words.py", line 140, in send_words_day_schedule
    await _send_daily_words(cb, chat_id, user[1], words, reps)
  File "/home/olegb/project/english_learning_bot/handlers/words.py", line 125, in _send_daily_words
    await cb.message.edit_text(
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/types/message.py", line 2919, in edit_text
    return await self.bot.edit_message_text(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/bot.py", line 3122, in edit_message_text
    result = await self.request(api.Methods.EDIT_MESSAGE_TEXT, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/utils/exceptions.py", line 141, in detect
    raise cls(description)
aiogram.utils.exceptions.BadRequest: Message_too_long
2025-05-27 18:04:45,286 - ERROR - asyncio - Task exception was never retrieved
future: <Task finished name='Task-210' coro=<Dispatcher._process_polling_updates() done, defined at /home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py:407> exception=BadRequest('Message_too_long')>
Traceback (most recent call last):
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 415, in _process_polling_updates
    for responses in itertools.chain.from_iterable(await self.process_updates(updates, fast)):
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 235, in process_updates
    return await asyncio.gather(*tasks)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/dispatcher.py", line 283, in process_update
    return await self.callback_query_handlers.notify(update.callback_query)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/dispatcher/handler.py", line 117, in notify
    response = await handler_obj.handler(*args, **partial_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/english_learning_bot/handlers/words.py", line 140, in send_words_day_schedule
    await _send_daily_words(cb, chat_id, user[1], words, reps)
  File "/home/olegb/project/english_learning_bot/handlers/words.py", line 125, in _send_daily_words
    await cb.message.edit_text(
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/types/message.py", line 2919, in edit_text
    return await self.bot.edit_message_text(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/bot.py", line 3122, in edit_message_text
    result = await self.request(api.Methods.EDIT_MESSAGE_TEXT, payload)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/base.py", line 236, in request
    return await api.make_request(await self.get_session(), self.server, self.__token, method, data, files,
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/api.py", line 140, in make_request
    return check_result(method, response.content_type, response.status, await response.text())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/bot/api.py", line 115, in check_result
    exceptions.BadRequest.detect(description)
  File "/home/olegb/project/venv/lib/python3.11/site-packages/aiogram/utils/exceptions.py", line 141, in detect
    raise cls(description)
aiogram.utils.exceptions.BadRequest: Message_too_long
2025-05-27 18:06:31,864 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 18:06:31,864 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 18:06:31,865 - INFO - __main__ - Бот успешно запущен.
2025-05-27 18:19:19,188 - INFO - __main__ - Проверка пропущенных уведомлений…
2025-05-27 18:19:19,189 - INFO - __main__ - Восстановлено 0 уведомлений
2025-05-27 18:19:19,189 - INFO - __main__ - Бот успешно запущен.
